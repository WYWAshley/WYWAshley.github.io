# MySQL 正则表达式

 正则表达式用来描述或者匹配符合规则的字符串。它的用法和like比较相似，但是它又比like更强大，能够实现一些很特殊的规则匹配。

正则表达式需要使用REGEXP命令，匹配上返回"1"匹配不上返回"0"，默认不加条件REGEXP相当于like '%%'。在前面加上NOT相当于NOT LIKE。

REGEXP默认也是**不区分大小写**，可以使用BINARY关键词强制区分大小写。WHERE NAME REGEXP BINARY ‘^[A-Z]’;

REGEXP默认是**部分匹配原则，即有一个匹配上则返回真**。例如：SELECT  'Abc' REGEXP BINARY '[A-Z]';  select 'aaa ' regex '[\^a]' 也返回真值;  

| 命令    | 说明                                                         |
| ------- | ------------------------------------------------------------ |
| ^       | 匹配输入字符串的开始位置。如果设置了 RegExp 对象的 Multiline 属性，^ 也匹配 '\n' 或 '\r' 之后的位置。 |
| $       | 匹配输入字符串的结束位置。如果设置了RegExp 对象的 Multiline 属性，$ 也匹配 '\n' 或 '\r' 之前的位置。 |
| .       | 匹配除 "\n" 之外的任何单个字符。要匹配包括 '\n' 在内的任何字符，请使用像 '[.\n]' 的模式。 |
| [...]   | 字符集合。匹配所包含的任意一个字符。例如， '[abc]' 可以匹配 "plain" 中的 'a'。 |
| [m-n]   | 匹配m到n之间的任意单个字符，例如[0-9],[a-z],[A-Z]            |
| [^...]  | 负值字符集合。匹配未包含的任意字符。例如， '[^abc]' 可以匹配 "plain" 中的'p'。 |
| (...)   | 将模式元素组成单一元素，例如（do）*意思是匹配0个多或多个do   |
| a?      | 匹配一个或0个a                                               |
| a+      | 匹配前面的子表达式一次或多次。例如，'zo+' 能匹配 "zo" 以及 "zoo"，但不能匹配 "z"。+ 等价于 {1,}。 |
| a*      | 匹配前面的子表达式零次或多次。例如，zo* 能匹配 "z" 以及 "zoo"。* 等价于{0,}。 |
| a1\|a2  | 匹配 a1 或 a2。例如，'z\|food' 能匹配 "z" 或 "food"。'(z\|f)ood' 则匹配 "zood" 或 "food"。 |
| a{m}    | n 是一个非负整数。匹配确定的 n 次。例如，'o{2}' 不能匹配 "Bob" 中的 'o'，但是能匹配 "food" 中的两个 o。 |
| a{m, }  | m 为非负整数。最少匹配 m 次。                                |
| a{,n}   | n 为非负整数。最多匹配 n 次。                                |
| a{m, n} | m 和 n 均为非负整数，其中n <= m。最少匹配 n 次且最多匹配 m 次。 |

